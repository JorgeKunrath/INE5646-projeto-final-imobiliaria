(this["webpackJsonpprojeto-final-imobiliaria"]=this["webpackJsonpprojeto-final-imobiliaria"]||[]).push([[0],{160:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t(2),c=t.n(a),i=t(69),o=t.n(i),s=(t(77),t(3)),l=t(10),d=t(7),u=t(4);function j(){var e=Object(s.a)(["\n  width: calc(100% - max(2em, 7%));\n  max-width: 1500px;\n  margin-left: auto;\n  margin-right: auto;\n"]);return j=function(){return e},e}var b=u.a.div(j());function h(e){var n=e.style||{};return Object(r.jsx)(b,{style:n,children:e.children})}function m(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 72px;\n"]);return m=function(){return e},e}var x=u.a.div(m());function f(){return Object(r.jsx)("header",{style:{background:"var(--orange)"},children:Object(r.jsx)(h,{children:Object(r.jsx)(x,{children:Object(r.jsx)(l.b,{to:"/",children:Object(r.jsx)("img",{src:"/INE5646-projeto-final-imobiliaria/logo_imobiliaria.png",alt:"Logo Gen\xe9rico"})})})})})}function p(){var e=Object(s.a)(["\n  min-height: 45vh;\n  background: #f2994a;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-transform: uppercase;\n  color: white;\n  text-align: center;\n  font-size: 2rem;\n\n  h1 {\n    margin-top: -72px;\n    padding: 1em 0;\n  }\n"]);return p=function(){return e},e}var O=u.a.div(p());function g(e){return Object(r.jsx)(O,{children:Object(r.jsx)(h,{children:e.children})})}var v=t(6),w=t.n(v),y=t(11),z=t(8),M=t(16),k=t.n(M);function S(){var e=Object(s.a)(["\n  background: white;\n  box-shadow: var(--shadow);\n  border-radius: 5px;\n  overflow: hidden;\n"]);return S=function(){return e},e}var N=u.a.div(S());function E(e){var n=e.style||{};return Object(r.jsx)(N,{className:e.className,style:n,children:e.children})}function C(e){var n=e.size,t=void 0===n?24:n;return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 512 512",children:Object(r.jsx)("path",{d:"M487.005 256.669v-9.751c0-17.963-9.3-33.786-23.33-42.936V97.614c0-27.986-22.768-50.754-50.754-50.754H99.079c-27.986 0-50.755 22.768-50.755 50.754v106.367c-14.03 9.15-23.33 24.973-23.33 42.936v9.751C10.628 260.451 0 273.551 0 289.089v114.096c0 17.95 14.182 32.647 31.929 33.482v13.503c0 8.268 6.703 14.971 14.971 14.971s14.971-6.703 14.971-14.971v-13.463h388.257v13.463c0 8.268 6.703 14.971 14.971 14.971s14.971-6.703 14.971-14.971v-13.503c17.748-.836 31.93-15.533 31.93-33.483V289.089c0-15.539-10.628-28.638-24.995-32.42zM78.267 97.614c0-11.476 9.336-20.812 20.812-20.812h313.842c11.476 0 20.812 9.336 20.812 20.812v98.067h-19.962v-26.388c0-18.47-15.026-33.497-33.497-33.497h-80.558c-18.47 0-33.497 15.027-33.497 33.497v26.388h-20.438v-26.388c0-18.47-15.027-33.497-33.497-33.497h-80.558c-18.471 0-33.497 15.027-33.497 33.497v26.388H78.267zm305.561 71.678v22.834a3.558 3.558 0 01-3.554 3.554h-80.558a3.558 3.558 0 01-3.554-3.554v-22.834a3.558 3.558 0 013.554-3.554h80.558a3.558 3.558 0 013.554 3.554zm-167.99 0v22.834a3.558 3.558 0 01-3.554 3.554h-80.558a3.558 3.558 0 01-3.554-3.554v-22.834a3.558 3.558 0 013.554-3.554h80.558a3.558 3.558 0 013.554 3.554zM54.937 246.917c0-11.742 9.553-21.294 21.295-21.294h359.536c11.742 0 21.295 9.553 21.295 21.294v8.648H54.937zm427.12 156.267a3.584 3.584 0 01-3.581 3.58H33.523a3.585 3.585 0 01-3.581-3.58V289.089a3.584 3.584 0 013.581-3.58h444.954a3.585 3.585 0 013.581 3.58v114.095z"})})}function A(e){var n=e.size,t=void 0===n?20:n;return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 512.045 512.045",children:[Object(r.jsx)("path",{d:"M512.045 314.97c0-26.996-21.963-48.959-48.959-48.959H60.167v-200.1c0-19.789 16.1-35.888 35.889-35.888h32.891a19.449 19.449 0 0114.542 6.542l15.043 16.97a67.101 67.101 0 00-1.374 13.536v19.677c-5.822 2.061-10 7.6-10 14.128 0 8.284 6.716 15 15 15h124.096c8.284 0 15-6.716 15-15 0-6.528-4.178-12.067-10-14.128V67.071c0-36.971-30.077-67.048-67.048-67.048-20.701 0-39.237 9.434-51.546 24.225l-6.722-7.582A49.461 49.461 0 00128.946.023h-32.89c-36.331 0-65.889 29.557-65.889 65.888v202.1c0 .581.041 1.151.105 1.715C12.521 277.084 0 294.589 0 314.97c0 20.341 12.472 37.819 30.167 45.203v27.11c0 53.691 43.681 97.372 97.372 97.372h8.573v12.368c0 8.284 6.716 15 15 15s15-6.716 15-15v-12.368h179.82v12.368c0 8.284 6.716 15 15 15s15-6.716 15-15v-12.368h8.573c53.691 0 97.372-43.681 97.372-97.372v-27.11c17.696-7.384 30.168-24.863 30.168-45.203zM224.205 30.022c20.429 0 37.048 16.62 37.048 37.048v18.805h-74.096V67.071c0-20.429 16.619-37.049 37.048-37.049zm160.301 424.633H127.539c-37.149 0-67.372-30.223-67.372-67.372v-23.354h391.711v23.354c0 37.149-30.223 67.372-67.372 67.372zm78.58-120.726H48.959C38.505 333.929 30 325.424 30 314.97s8.505-18.959 18.959-18.959h414.127c10.454 0 18.959 8.505 18.959 18.959s-8.505 18.959-18.959 18.959z"}),Object(r.jsx)("path",{d:"M296.862 218.202c-1.278-6.157-6.267-10.957-12.501-11.905-6.187-.94-12.489 2.249-15.428 7.765-2.943 5.522-2.105 12.499 2.11 17.14 4.208 4.632 11.068 6.186 16.85 3.78 6.488-2.699 10.406-9.856 8.969-16.78zM236.862 218.202c-1.278-6.158-6.266-10.957-12.501-11.905-6.185-.94-12.489 2.25-15.428 7.765-2.943 5.522-2.105 12.499 2.11 17.14 4.209 4.634 11.066 6.192 16.85 3.78 6.487-2.704 10.408-9.85 8.969-16.78zM176.862 218.202c-1.278-6.156-6.269-10.958-12.501-11.905-6.186-.94-12.489 2.249-15.428 7.765-2.943 5.522-2.105 12.499 2.11 17.14 4.206 4.631 11.068 6.186 16.85 3.78 6.487-2.698 10.406-9.858 8.969-16.78zM297.082 159.652c-.648-6.241-5.188-11.533-11.281-13.065-6.062-1.525-12.655.996-16.118 6.215-3.455 5.206-3.322 12.233.424 17.257 3.749 5.028 10.398 7.241 16.405 5.412 6.748-2.052 11.286-8.779 10.57-15.819zM237.082 159.652c-.648-6.241-5.188-11.532-11.281-13.065-6.068-1.526-12.647 1.001-16.118 6.215-3.472 5.215-3.3 12.219.424 17.256 3.721 5.033 10.418 7.246 16.406 5.424 6.745-2.052 11.284-8.801 10.569-15.83zM177.082 159.652c-.647-6.239-5.19-11.533-11.281-13.065-6.062-1.525-12.655.996-16.118 6.215-3.465 5.222-3.305 12.213.424 17.256 3.721 5.033 10.418 7.246 16.406 5.424 6.744-2.051 11.283-8.805 10.569-15.83z"})]})}function F(e){var n=e.size,t=void 0===n?24:n;return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"1 -34 511.999 511",children:[Object(r.jsx)("path",{d:"M407.367 262.332h-22.129l-22.722-53.809c-8.567-20.28-27.852-33.386-49.13-33.386H198.614c-21.277 0-40.562 13.105-49.129 33.386l-22.722 53.809h-22.13c-19.636 0-35.609 15.973-35.609 35.613v59.739c0 16.18 10.848 29.863 25.649 34.183v15.383c0 19.68 16.012 35.691 35.691 35.691h28.59c19.68 0 35.692-16.011 35.692-35.691v-13.953h122.71v13.953c0 19.68 16.012 35.691 35.692 35.691h28.59c19.68 0 35.691-16.011 35.691-35.691v-15.383c14.8-4.32 25.649-18.004 25.649-34.183v-59.739c0-19.64-15.973-35.613-35.61-35.613zm-208.754-56.613h114.77c8.957 0 17.183 5.773 20.957 14.703l17.7 41.91H159.96l17.7-41.91c3.774-8.93 11.996-14.703 20.953-14.703zm208.754 87.195a5.037 5.037 0 015.028 5.031v59.739a5.034 5.034 0 01-5.028 5.027H104.633a5.034 5.034 0 01-5.028-5.027v-59.739a5.037 5.037 0 015.028-5.03zM164.06 407.246c0 2.816-2.29 5.11-5.106 5.11h-28.59a5.116 5.116 0 01-5.11-5.11v-13.953h38.806zm222.683 0c0 2.816-2.289 5.11-5.105 5.11h-28.59a5.116 5.116 0 01-5.11-5.11v-13.953h38.805zm0 0"}),Object(r.jsx)("path",{d:"M205.219 343.105H306.78c8.446 0 15.293-6.847 15.293-15.292s-6.847-15.293-15.293-15.293H205.22c-8.446 0-15.293 6.847-15.293 15.293s6.847 15.292 15.293 15.292zm0 0M364.922 343.105c7.996 0 15.66-7.035 15.293-15.292-.371-8.286-6.723-15.293-15.293-15.293-8 0-15.664 7.035-15.293 15.293.371 8.285 6.719 15.292 15.293 15.292zm0 0M147.078 343.105c8 0 15.664-7.035 15.293-15.292-.371-8.286-6.719-15.293-15.293-15.293-8 0-15.664 7.035-15.293 15.293.371 8.285 6.719 15.292 15.293 15.292zm0 0"}),Object(r.jsx)("path",{d:"M503.238 115.652L262.531 1.965a15.293 15.293 0 00-13.062 0L8.762 115.652A15.299 15.299 0 000 129.48v298.168c0 8.446 6.848 15.29 15.293 15.29s15.293-6.844 15.293-15.29V139.172L256 32.703l225.414 106.469v288.476c0 8.446 6.848 15.29 15.293 15.29S512 436.094 512 427.648V129.48c0-5.914-3.414-11.3-8.762-13.828zm0 0"})]})}function q(e){var n=e.size,t=void 0===n?20:n;return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:t,height:t,version:"1.1",viewBox:"0 0 512.025 512.025",xmlSpace:"preserve",children:Object(r.jsx)("path",{d:"M226.333.013h-160c-8.837 0-16 7.163-16 16v480c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-480c0-8.837-7.164-16-16-16zm-16 480h-128v-48h80v-32h-80v-48h48v-32h-48v-48h80v-32h-80v-48h48v-32h-48v-48h80v-32h-80v-48h128v448zM439.133 404.813l-52.8 52.64V54.573l52.64 52.64 22.56-22.56-80-80c-6.241-6.204-16.319-6.204-22.56 0l-80 80 22.56 22.56 52.8-52.64v402.88l-52.64-52.64-22.56 22.56 80 80c6.241 6.204 16.319 6.204 22.56 0l80-80-22.56-22.56z"})})}function D(){var e=Object(s.a)(["\n  padding-right: 0.5rem;\n  max-width: 300px;\n  margin-top: auto;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  span {\n    display: flex;\n    align-items: center;\n    font-size: 0.9rem;\n    color: var(--gray3);\n    margin-right: 0.75rem;\n  }\n\n  svg {\n    fill: var(--orange);\n    margin-right: 0.25em;\n  }\n"]);return D=function(){return e},e}var R=u.a.div(D());function V(e){var n=e.data,t=e.style,a=void 0===t?{}:t;return Object(r.jsxs)(R,{style:a,children:[Object(r.jsxs)("span",{children:[Object(r.jsx)(C,{}),n.dormitorios," "]}),Object(r.jsxs)("span",{children:[Object(r.jsx)(A,{}),n.banheiros," "]}),Object(r.jsxs)("span",{children:[Object(r.jsx)(F,{}),n.vagas," "]}),Object(r.jsxs)("span",{children:[Object(r.jsx)(q,{}),n.area,"m\xb2"," "]})]})}function I(){var e=Object(s.a)(["\n  padding: 0.5rem 0.75rem 0.75rem;\n  flex-grow: 1;\n  display: flex;\n  flex-flow: column;\n\n  span,\n  p {\n    color: var(--gray3);\n  }\n\n  span {\n    font-size: 0.9rem;\n    line-height: 1.2em;\n  }\n\n  h3 {\n    margin: 0 0 0.5rem;\n    color: #333333;\n  }\n\n  p {\n    margin: 0 0 0.75rem;\n  }\n"]);return I=function(){return e},e}function B(){var e=Object(s.a)(["\n  position: relative;\n  padding-top: calc((9 / 16) * 100%);\n\n  img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    background: #fafafa;\n  }\n"]);return B=function(){return e},e}function U(){var e=Object(s.a)(["\n  a {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    text-decoration: none;\n    color: unset;\n  }\n\n  transition: box-shadow 0.3s ease;\n  :hover {\n    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1), 0 0 8px rgba(0, 0, 0, 0.1);\n  }\n  :focus-within {\n    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1), 0 0 8px rgba(0, 0, 0, 0.1),\n      inset 0 0 0 1px rgba(0, 0, 0, 0.3);\n  }\n"]);return U=function(){return e},e}function H(){var e=Object(s.a)(["\n  flex-grow: 1;\n\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  grid-gap: 1em;\n\n  // Skeleton wrapper - not exactly the <Skeleton>, these are the children\n  > span {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    grid-gap: 1em;\n  }\n"]);return H=function(){return e},e}var T=u.a.main(H()),L=Object(u.a)(E)(U()),_=u.a.picture(B()),G=u.a.div(I());function P(e){return console.log({props:e}),Object(r.jsx)(T,{children:e.data?e.data.map((function(e){return Object(r.jsx)(L,{children:Object(r.jsxs)(l.b,{to:"imovel/cod-".concat(e.codRef),children:[Object(r.jsx)(_,{children:Object(r.jsx)("img",{src:e.imagem,alt:""})}),Object(r.jsxs)(G,{children:[Object(r.jsxs)("span",{children:[e.endereco.bairro," \u2014 ",e.endereco.cidade]}),Object(r.jsx)("h3",{children:e.titulo}),Object(r.jsxs)("p",{children:["R$"," ",new Number(e.aluguel).toFixed(0).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,".")]}),Object(r.jsx)(V,{data:e.detalhes,style:{marginLeft:0}})]})]})},"HouseCard-".concat(e.codRef))})):Object(r.jsx)(k.a,{height:300,count:6})})}var $=t(18);function J(){var e=Object(s.a)([""]);return J=function(){return e},e}var W=u.a.aside(J());function K(e){var n=e.style||{},t=e.rawData,a=(e.filteredData,e.setFilteredData);return c.a.useEffect((function(){a(t)}),[t]),Object(r.jsx)(W,{children:Object(r.jsx)(E,{style:Object($.a)({padding:"0.5em"},n),children:"Filtros"})})}var Y=t(14),Q=(t(84),t(86),Y.a.initializeApp({apiKey:"AIzaSyANSeiCCKJ6e6yWebxzmYsClQECXqZyw0Y",authDomain:"ine5646-projeto-final.firebaseapp.com",databaseURL:"https://ine5646-projeto-final.firebaseio.com",projectId:"ine5646-projeto-final",storageBucket:"ine5646-projeto-final.appspot.com",messagingSenderId:"556409254247",appId:"1:556409254247:web:9792562ba1597944ae7fc2"})),X=Y.a.firestore(),Z=function(){var e=Object(y.a)(w.a.mark((function e(n,t,r,a){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Y.a.auth().currentUser,X.collectionGroup("imoveis").where("cod","==",a).get().then((function(e){e.forEach((function(e){X.doc("/usuarios/".concat(c.uid,"/imoveis/").concat(e.id)).set(Object($.a)(Object($.a)({},n),{},{updatedAt:Y.a.firestore.FieldValue.serverTimestamp()}),{merge:!0})}))})).catch((function(e){console.log("ops... ",e)})),X.collection("imoveis_resumo").where("codRef","==",a).get().then((function(e){e.forEach((function(e){X.doc("/imoveis_resumo/".concat(e.id)).update(Object($.a)(Object($.a)({},t),{},{updatedAt:Y.a.firestore.FieldValue.serverTimestamp()}))}))})).catch((function(e){console.log("ops... ",e)})),r(!1),e.abrupt("return",null);case 5:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(y.a)(w.a.mark((function e(){var n,t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.collection("imoveis_resumo").orderBy("createdAt","desc").get();case 2:return n=e.sent,t=n.docs.map((function(e){return e.data()})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(y.a)(w.a.mark((function e(n){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.collectionGroup("imoveis").where("cod","==",n).get().then((function(e){e.forEach((function(e){console.log("success: getImovel"),t=e.data()}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 2:return e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),te=function(){var e=Object(y.a)(w.a.mark((function e(n){var t,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Y.a.auth().currentUser,e.next=3,X.collection("usuarios").doc(t.uid).collection("imoveis").orderBy("createdAt","desc").get();case 3:return r=e.sent,a=r.docs.map((function(e){return e.data()})),n(a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),re=function(){var e=Object(y.a)(w.a.mark((function e(n){var t,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Y.a.auth().currentUser,e.next=3,X.collection("visitas").where("userUidRef","==",t.uid).orderBy("createdAt","desc").get();case 3:return r=e.sent,a=r.docs.map((function(e){return e.data()})),n(a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=Y.a.storage();function ce(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 1;\n  grid-gap: 1em;\n\n  @media (min-width: 1024px) {\n    grid-template-columns: 25% auto;\n  }\n"]);return ce=function(){return e},e}var ie=u.a.section(ce());function oe(){var e=c.a.useState([]),n=Object(z.a)(e,2),t=n[0],a=n[1],i=c.a.useState(),o=Object(z.a)(i,2),s=o[0],l=o[1];return c.a.useEffect((function(){function e(){return(e=Object(y.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:n=e.sent,l(n),a(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.jsxs)(ie,{children:[Object(r.jsx)(K,{rawData:s,filteredData:t,setFilteredData:a}),Object(r.jsx)(P,{data:t})]})}function se(){return Object(r.jsxs)("nav",{children:[Object(r.jsx)(l.b,{to:"/",children:"Home"})," | ",Object(r.jsx)(l.b,{to:"/admin",children:"Admin"})]})}function le(){var e=Object(s.a)(["\n  background: var(--orange);\n  padding: 1em 0;\n  text-align: center;\n  margin-top: auto;\n  color: rgba(0, 0, 0, 0.2);\n  a {\n    color: rgba(0, 0, 0, 0.2);\n  }\n"]);return le=function(){return e},e}var de=u.a.footer(le());function ue(){return Object(r.jsxs)(de,{children:[Object(r.jsx)(se,{}),Object(r.jsx)("small",{children:"Este site \xe9 um projeto acad\xeamico. As informa\xe7\xf5es aqui contidas n\xe3o condizem com a realidade."})]})}function je(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(f,{}),Object(r.jsx)(g,{children:Object(r.jsx)("h1",{children:"Seu pr\xf3ximo im\xf3vel est\xe1 aqui!"})}),Object(r.jsx)(h,{style:{marginTop:"2em",marginBottom:"2em"},children:Object(r.jsx)(oe,{})}),Object(r.jsx)(ue,{})]})}function be(){var e=Object(s.a)(["\n  /* border: 3px solid red; */\n  background-color: var(--black);\n\n  > div {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  }\n"]);return be=function(){return e},e}var he=u.a.section(be());function me(e){var n=e.images;return Object(r.jsx)(he,{children:Object(r.jsx)("div",{children:n.map((function(e,n){return Object(r.jsx)("img",{src:e,alt:""},e)}))})})}var xe=t(71),fe=t.n(xe);function pe(e){var n=e.titulo,t=e.descricao;t.split("\n");return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:n}),Object(r.jsx)(fe.a,{children:t})]})}var Oe=t(40);function ge(){var e=Object(s.a)(["\n  box-sizing: inherit;\n  font: inherit;\n  color: white;\n  text-align: center;\n\n  display: block;\n  width: 100%;\n  margin-top: 0.25rem;\n  padding: 0.5rem 1rem;\n\n  background-color: var(--blue);\n  border-radius: 5px;\n  border: 0;\n  cursor: pointer;\n"]);return ge=function(){return e},e}function ve(){var e=Object(s.a)(["\n  width: unset;\n  max-width: auto;\n  margin-top: 0.25em;\n  font-size: inherit;\n  border-radius: 5px;\n  background-color: #f2f2f2;\n  padding: 0.5em 0.75em;\n  color: var(--gray3);\n  border: ",";\n  box-shadow: ",";\n  transition: box-shadow 0.2s ease, border 0.2s ease;\n\n  :focus {\n    outline: none;\n  }\n\n  &.textarea {\n    resize: vertical;\n  }\n"]);return ve=function(){return e},e}function we(){var e=Object(s.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n  margin-top: 1rem;\n\n  label {\n    display: flex;\n    flex-flow: column;\n    margin-bottom: 0.5rem;\n    color: var(--gray3);\n    min-width: 0;\n    width: 100%;\n  }\n"]);return we=function(){return e},e}var ye=u.a.form(we()),ze=u.a.input(ve(),(function(e){return e.error?"1px solid #eb5757":"1px solid #e0e0e0"}),(function(e){return e.error?"inset 0 0 0 1px #eb5757":"inset 0 0 0 0 transparent"})),Me=u.a.button(ge());function ke(e){var n=e.userUidRef,t=e.cod,a=Object(Oe.a)(),c=a.register,i=a.handleSubmit,o=a.errors;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(ye,{onSubmit:i((function(e){var r,a={nome:e.nome,email:e.email,telefone:e.telefone,userUidRef:n,codRef:t,status:"aberto"};console.log({dbSchema:a}),r=a,X.collection("visitas").add(Object($.a)({createdAt:Y.a.firestore.FieldValue.serverTimestamp()},r)).then((function(){return console.log('submitSchedule: "schedule" added to Firebase')}))})),children:[Object(r.jsx)("label",{children:Object(r.jsx)(ze,{type:"text",name:"nome",title:"Nome",placeholder:"Nome",ref:c({required:!0}),error:o.nome})}),Object(r.jsx)("label",{children:Object(r.jsx)(ze,{type:"email",name:"email",title:"Email",placeholder:"Email",ref:c({required:!0}),error:o.email})}),Object(r.jsx)("label",{children:Object(r.jsx)(ze,{type:"tel",name:"telefone",title:"Telefone",placeholder:"Telefone",ref:c({required:!0}),error:o.telefone})}),Object(r.jsx)(Me,{type:"submit",children:"Agendar Visita"})]})})}function Se(){var e=Object(s.a)(["\n  margin-bottom: 1rem;\n  font-size: 0.9rem;\n  p {\n    margin: 0;\n  }\n"]);return Se=function(){return e},e}function Ne(){var e=Object(s.a)(["\n  font-size: 1.3rem;\n  margin: 0 0 0.5rem;\n  font-weight: bold;\n"]);return Ne=function(){return e},e}function Ee(){var e=Object(s.a)(["\n  display: flex;\n  align-items: baseline;\n  flex-wrap: wrap;\n\n  > * {\n    font-size: 0.9rem;\n    margin: 0 0.5rem 0.5rem 0;\n    white-space: nowrap;\n  }\n\n  span {\n    padding: 0.25em 0.35em;\n    background-color: var(--gray5);\n    border-radius: 3px;\n    line-height: 1;\n  }\n\n  .disponivel {\n    background-color: var(--green);\n    color: white;\n  }\n"]);return Ee=function(){return e},e}function Ce(){var e=Object(s.a)(["\n  padding: 1rem;\n  color: var(--gray3);\n"]);return Ce=function(){return e},e}var Ae=u.a.div(Ce()),Fe=u.a.div(Ee()),qe=u.a.p(Ne()),De=u.a.div(Se());function Re(e){var n=e.data,t=n.endereco,a=n.detalhes,c=n.status,i=n.cod,o=n.aluguel,s=n.userUidRef,l=t.rua,d=t.numero,u=(t.estado,t.bairro),j=t.complemento,b=t.cidade;return Object(r.jsx)(E,{children:Object(r.jsxs)(Ae,{children:[Object(r.jsxs)(Fe,{children:[Object(r.jsx)("span",{children:t.tipo})," ",Object(r.jsx)("span",{className:c.normalize("NFD").replace(/[\u0300-\u036f]/g,""),children:c})," ",Object(r.jsxs)("p",{children:["c\xf3d. ",i]})]}),Object(r.jsxs)(qe,{children:["R$"," ",new Number(o).toFixed(2).toString().replace(".",",").replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,".")]}),Object(r.jsxs)(De,{children:[Object(r.jsxs)("p",{children:[l,", ",d," ",j]}),Object(r.jsx)("p",{children:u}),Object(r.jsx)("p",{children:b})]}),Object(r.jsx)(V,{data:a}),Object(r.jsx)(ke,{userUidRef:s,cod:i})]})})}function Ve(){var e=Object(s.a)(["\n  /* border: 3px solid blue; */\n  display: flex;\n  align-items: flex-start;\n  padding: 2rem 0;\n\n  > * {\n    min-width: 250px;\n    :last-child {\n      margin-left: 2em;\n    }\n  }\n\n  @media (max-width: 600px) {\n    flex-direction: column;\n    align-items: stretch;\n    > * {\n      min-width: unset;\n      :last-child {\n        margin-left: 0;\n      }\n    }\n  }\n"]);return Ve=function(){return e},e}var Ie=u.a.main(Ve());function Be(){var e=c.a.useState(null),n=Object(z.a)(e,2),t=n[0],a=n[1],i=+Object(d.f)().pathname.replace("/imovel/cod-","");return c.a.useEffect((function(){function e(){return(e=Object(y.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(i);case 2:n=e.sent,a(n),setTimeout((function(){return console.log(n)}),0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(f,{}),t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(me,{images:t.imagens}),Object(r.jsx)(h,{style:{maxWidth:1200},children:Object(r.jsxs)(Ie,{children:[Object(r.jsx)(pe,{titulo:t.titulo,descricao:t.descricao}),Object(r.jsx)(Re,{data:t})]})})]}):Object(r.jsx)("p",{children:"Carregando"}),Object(r.jsx)(ue,{})]})}function Ue(){return Object(r.jsxs)("div",{children:["Erro 404 \u2014 P\xe1gina n\xe3o encontrada :(",Object(r.jsx)(se,{})]})}t(67);var He=c.a.createContext();function Te(e){var n=e.children,t=Object(a.useState)(null),c=Object(z.a)(t,2),i=c[0],o=c[1];return Object(a.useEffect)((function(){Q.auth().onAuthStateChanged((function(e){o(e)}))}),[]),Object(r.jsx)(He.Provider,{value:{currentUser:i},children:n})}function Le(e){var n=e.size,t=void 0===n?24:n;return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 464 464",version:"1.1",viewBox:"0 0 464 464",xmlSpace:"preserve",width:t,height:t,children:[Object(r.jsx)("g",{fill:"#F9EDE0",children:Object(r.jsx)("path",{d:"M305.872 451.92a209.097 209.097 0 01-7.296 2.336c2.456-.736 4.88-1.528 7.296-2.336zM317.992 447.472c-2.608 1.04-5.216 2.064-7.872 3.008a231.662 231.662 0 007.872-3.008z"})}),Object(r.jsx)("circle",{cx:"232",cy:"232",r:"232",fill:"#EFECE8"}),Object(r.jsx)("g",{fill:"#F9EDE0",children:Object(r.jsx)("path",{d:"M293.896 455.584zM215.192 463.328c-2.832-.2-5.656-.416-8.448-.72 2.8.304 5.624.52 8.448.72zM177.256 457.44c-2.4-.584-4.784-1.208-7.16-1.864 2.376.664 4.76 1.288 7.16 1.864zM201.944 462a236.382 236.382 0 01-7.576-1.08c2.504.408 5.04.744 7.576 1.08zM232 464zM189.416 460.032zM142.608 446.128zM153.872 450.48zM244.72 463.64zM257.256 462.608c-2.8.304-5.624.52-8.448.72 2.824-.2 5.648-.416 8.448-.72zM281.848 458.576zM269.64 460.912c-2.512.408-5.04.752-7.576 1.08 2.528-.328 5.064-.664 7.576-1.08zM332.032 441.368a235.234 235.234 0 01-10.64 4.76 226.642 226.642 0 0010.64-4.76zM165.424 454.256zM321.392 446.128c-1.12.472-2.264.888-3.392 1.336 1.12-.448 2.264-.864 3.392-1.336zM332.352 441.224c-.104.048-.216.096-.32.144.104-.048.216-.088.32-.144zM182.152 458.576zM194.36 460.912a256.257 256.257 0 01-4.952-.88c1.656.304 3.296.616 4.952.88zM219.28 463.64c-1.368-.072-2.728-.216-4.088-.312 1.368.096 2.72.24 4.088.312zM206.744 462.608c-1.608-.176-3.2-.4-4.8-.608 1.6.208 3.192.432 4.8.608zM131.928 441.352c-.088-.04-.184-.08-.272-.12.088.04.184.08.272.12zM248.808 463.328c-1.368.096-2.72.24-4.088.312 1.368-.072 2.72-.216 4.088-.312zM298.576 454.256zM310.128 450.48c-1.408.504-2.832.96-4.248 1.44 1.416-.48 2.84-.936 4.248-1.44zM146.008 447.472c-1.128-.448-2.272-.872-3.392-1.336 1.12.464 2.264.88 3.392 1.336zM158.128 451.92c-1.416-.48-2.848-.936-4.248-1.44 1.4.504 2.824.96 4.248 1.44zM262.056 462c-1.6.208-3.192.44-4.8.608 1.608-.176 3.2-.4 4.8-.608zM286.744 457.44c-1.624.392-3.256.768-4.896 1.128 1.64-.352 3.272-.728 4.896-1.128zM274.584 460.032c-1.648.304-3.288.616-4.952.88 1.664-.264 3.304-.576 4.952-.88zM170.104 455.584c-1.56-.432-3.128-.864-4.68-1.328 1.552.464 3.112.896 4.68 1.328z"})}),Object(r.jsx)("path",{fill:"#C6C3BD",d:"M285.104 247.952C310.952 230.744 328 201.376 328 168c0-53.016-42.984-96-96-96s-96 42.984-96 96c0 33.376 17.048 62.744 42.896 79.952 0 0 .008.008.016.008-.008 0-.008-.008-.008-.008-61.872 18.648-110.048 68.864-125.56 132.04l.008.008a237.163 237.163 0 007.832 8.944c.648.712 1.328 1.392 1.992 2.088a239.937 239.937 0 006.296 6.464c.888.872 1.792 1.712 2.696 2.568a233.567 233.567 0 006.04 5.568c1.016.896 2.048 1.784 3.072 2.664 2.008 1.72 4.04 3.408 6.112 5.056 1.088.872 2.184 1.728 3.28 2.584a214.91 214.91 0 006.376 4.72c1.112.792 2.208 1.6 3.336 2.376 2.272 1.568 4.584 3.072 6.912 4.56 1.048.664 2.072 1.352 3.128 2.008a237.722 237.722 0 008.184 4.792c.728.408 1.44.848 2.176 1.248a231.937 231.937 0 0010.872 5.592c.088.04.184.08.272.12 3.512 1.68 7.08 3.272 10.688 4.776 1.12.472 2.264.888 3.392 1.336 2.608 1.04 5.216 2.064 7.872 3.008 1.408.504 2.832.96 4.248 1.44 2.416.816 4.848 1.608 7.296 2.336 1.552.464 3.112.896 4.68 1.328 2.368.656 4.752 1.28 7.16 1.864a219.555 219.555 0 0012.152 2.584c1.648.304 3.288.616 4.952.88 2.512.408 5.04.752 7.576 1.08 1.6.208 3.192.44 4.8.608 2.8.304 5.624.52 8.448.72 1.368.096 2.72.24 4.088.312 4.216.24 8.448.376 12.72.376s8.504-.136 12.72-.36c1.368-.072 2.728-.216 4.088-.312 2.832-.2 5.656-.416 8.448-.72 1.608-.176 3.2-.4 4.8-.608 2.536-.328 5.064-.672 7.576-1.08 1.656-.272 3.304-.576 4.952-.88a215.477 215.477 0 0012.152-2.584c2.4-.584 4.784-1.208 7.16-1.864 1.56-.432 3.128-.864 4.68-1.328 2.456-.736 4.88-1.528 7.296-2.336 1.416-.48 2.848-.936 4.248-1.44a245.374 245.374 0 007.872-3.008c1.128-.448 2.272-.872 3.392-1.336a226.642 226.642 0 0010.64-4.76c.104-.048.216-.096.32-.144 3.68-1.768 7.304-3.64 10.872-5.592.736-.4 1.448-.84 2.176-1.248a237.722 237.722 0 008.184-4.792c1.056-.648 2.088-1.336 3.128-2.008 2.328-1.488 4.64-3 6.912-4.56 1.12-.776 2.224-1.576 3.336-2.376a247.51 247.51 0 006.376-4.72 202.128 202.128 0 003.28-2.584 230.055 230.055 0 006.112-5.056c1.032-.88 2.064-1.768 3.072-2.664a233.567 233.567 0 006.04-5.568c.896-.856 1.808-1.704 2.696-2.568a228.37 228.37 0 006.296-6.464c.656-.704 1.336-1.384 1.992-2.088 2.68-2.92 5.304-5.896 7.832-8.944l.008-.008c-15.504-63.184-63.68-113.4-125.552-132.048z"})]})}function _e(){var e=Object(s.a)(["\n  margin-left: auto;\n\n  a {\n    margin-right: 1em;\n    color: white;\n    text-decoration: none;\n  }\n"]);return _e=function(){return e},e}function Ge(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  min-height: 72px;\n\n  img {\n    padding-right: 1em;\n  }\n\n  .cta {\n    display: block;\n    padding: 0.5em 0.75em;\n    text-decoration: none;\n    text-align: center;\n    line-height: 1;\n    background: white;\n    color: var(--orange);\n    border-radius: 5px;\n    box-shadow: var(--shadow);\n  }\n\n  svg {\n    margin-left: 1em;\n    box-shadow: var(--shadow);\n    border-radius: 50%;\n  }\n"]);return Ge=function(){return e},e}var Pe=u.a.div(Ge()),$e=u.a.div(_e());function Je(){return Object(r.jsx)("header",{style:{background:"var(--orange)"},children:Object(r.jsx)(h,{children:Object(r.jsxs)(Pe,{children:[Object(r.jsx)(l.b,{to:"/",children:Object(r.jsx)("img",{src:"/INE5646-projeto-final-imobiliaria/logo_imobiliaria.png",alt:"Logo Gen\xe9rico"})}),Object(r.jsxs)($e,{children:[Object(r.jsx)(l.b,{to:"/admin",children:"Im\xf3veis"}),Object(r.jsx)(l.b,{to:"/admin/agendamentos",children:"Agendamentos"})]}),Object(r.jsx)(l.b,{to:"/admin/imovel/novo",className:"cta",children:"Adicionar Im\xf3vel"}),Object(r.jsx)(Le,{size:40})]})})})}function We(){var e=Object(s.a)(["\n  padding: 2rem 1rem;\n  text-align: center;\n  color: var(--gray3);\n\n  a {\n    color: var(--orange);\n    font-weight: bold;\n  }\n"]);return We=function(){return e},e}function Ke(){var e=Object(s.a)(["\n  align-self: center;\n  line-height: 1.2em;\n\n  a {\n    color: var(--blue);\n    :after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n    }\n  }\n\n  img {\n    display: block;\n    margin: 0;\n    width: 40px;\n    height: 40px;\n    object-fit: cover;\n    border-radius: 50%;\n  }\n\n  &.titulo {\n  }\n\n  &.aluguel,\n  &.cod {\n    text-align: right;\n  }\n\n  &.flags {\n    span {\n      display: inline-block;\n      font-size: 0.9em;\n      line-height: 1;\n      margin: 0.25rem;\n      background-color: var(--gray6);\n      padding: 0.25em 0.5em 0.4em;\n      border-radius: 5px;\n      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n\n      &.dispon\xedvel {\n        background-color: var(--green);\n        color: white;\n      }\n    }\n  }\n"]);return Ke=function(){return e},e}function Ye(){var e=Object(s.a)(["\n  background-color: var(--gray6);\n  font-weight: bold;\n"]);return Ye=function(){return e},e}function Qe(){var e=Object(s.a)(["\n  min-width: 1100px;\n  position: relative;\n  background-color: white;\n  padding: 0.75rem;\n  transition: background-color 0.2s ease;\n\n  display: grid;\n  grid-template-columns: 40px 3fr 1fr 1fr 3fr 2fr 1.8fr;\n  align-content: center;\n  grid-column-gap: 1.5em;\n\n  :focus-within,\n  :focus,\n  :hover {\n    background-color: var(--gray6);\n  }\n\n  :not(:last-child) {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  }\n"]);return Qe=function(){return e},e}function Xe(){var e=Object(s.a)(["\n  border-radius: 5px;\n  overflow: hidden;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  margin: 2rem 0;\n  font-size: 0.95rem;\n  overflow: auto;\n"]);return Xe=function(){return e},e}var Ze=u.a.div(Xe()),en=u.a.div(Qe()),nn=Object(u.a)(en)(Ye()),tn=u.a.div(Ke()),rn=u.a.div(We());function an(e){var n=e.data,t=e.loaded;return Object(r.jsx)(h,{children:Object(r.jsxs)(Ze,{children:[Object(r.jsxs)(nn,{children:[Object(r.jsx)(tn,{}),Object(r.jsx)(tn,{children:"T\xedtulo"}),Object(r.jsx)(tn,{className:"cod",children:"C\xf3digo"}),Object(r.jsx)(tn,{className:"aluguel",children:"Aluguel"}),Object(r.jsx)(tn,{children:"Endere\xe7o"}),Object(r.jsx)(tn,{}),Object(r.jsx)(tn,{children:"Atualizado em:"})]}),t&&n&&n.map((function(e){var n=e.imagens,t=e.titulo,a=e.endereco,c=e.status,i=e.cod,o=e.aluguel,s=e.createdAt;return Object(r.jsxs)(en,{children:[Object(r.jsx)(tn,{className:"imagem",children:Object(r.jsx)("img",{src:n[0],alt:""})}),Object(r.jsx)(tn,{className:"titulo",children:Object(r.jsx)(l.b,{to:"/admin/imovel/cod-".concat(i),children:t})}),Object(r.jsx)(tn,{className:"cod",children:i}),Object(r.jsxs)(tn,{className:"aluguel",children:["R$\xa0",new Number(o).toFixed(2).toString().replace(".",",").replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,".")]}),Object(r.jsxs)(tn,{className:"endereco",children:[a.bairro," \u2014 ",a.cidade]}),Object(r.jsxs)(tn,{className:"flags",children:[Object(r.jsx)("span",{children:a.tipo}),Object(r.jsx)("span",{className:c,children:c})]}),Object(r.jsx)(tn,{children:s.toDate().toLocaleDateString([],{year:"numeric",month:"numeric",day:"numeric"})})]},i)})),t&&(!n||0==n.length)&&Object(r.jsxs)(rn,{children:["Nenhum im\xf3vel cadastrado.",Object(r.jsx)("br",{}),Object(r.jsx)(l.b,{to:"/admin/imovel/novo",children:"Adicione o seu primeiro im\xf3vel"})]}),!t&&Object(r.jsxs)(en,{children:[Object(r.jsx)(tn,{children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(tn,{children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(tn,{children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(tn,{children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(tn,{children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(tn,{children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(tn,{children:Object(r.jsx)(k.a,{})})]})]})})}function cn(){var e=c.a.useState(!1),n=Object(z.a)(e,2),t=n[0],a=n[1],i=c.a.useState(null),o=Object(z.a)(i,2),s=o[0],l=o[1],d=c.a.useState(null),u=Object(z.a)(d,2),j=u[0],b=u[1];return c.a.useEffect((function(){te(l)}),[]),c.a.useEffect((function(){a(!1),s&&(b(s),a(!0))}),[s]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Je,{}),Object(r.jsx)(h,{children:Object(r.jsx)("h1",{style:{margin:"2rem 0 0",fontSize:"2rem",color:"var(--gray3)"},children:"Im\xf3veis Cadastrados"})}),Object(r.jsx)(an,{data:j,loaded:t}),Object(r.jsx)(ue,{})]})}var on=t(13);function sn(){var e=Object(s.a)(["\n  border: 2px solid var(--gray5);\n  width: 100%;\n  padding: 0.5em;\n  border-radius: 5px;\n\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 1em;\n  place-items: center;\n\n  *:first-child {\n    grid-column: 1 / span 2;\n  }\n"]);return sn=function(){return e},e}function ln(){var e=Object(s.a)(["\n  width: 40%;\n  padding-left: 2rem;\n"]);return ln=function(){return e},e}function dn(){var e=Object(s.a)(["\n  width: 60%;\n"]);return dn=function(){return e},e}function un(){var e=Object(s.a)(["\n  position: absolute;\n  top: -4em;\n  right: 0;\n\n  display: block;\n  padding: 0.5em 0.75em;\n  background-color: var(--green);\n  color: white;\n  border: none;\n  border-radius: 5px;\n  font-size: inherit;\n  cursor: pointer;\n\n  pointer-events: ",";\n  background-color: ",";\n"]);return un=function(){return e},e}function jn(){var e=Object(s.a)(["\n  width: unset;\n  max-width: auto;\n  margin-top: 0.25em;\n  font-size: inherit;\n  border-radius: 5px;\n  background-color: #f2f2f2;\n  padding: 0.5em 0.75em;\n  color: var(--gray3);\n  border: ",";\n  box-shadow: ",";\n  transition: box-shadow 0.2s ease, border 0.2s ease;\n\n  :focus {\n    outline: none;\n  }\n\n  &.textarea {\n    resize: vertical;\n  }\n"]);return jn=function(){return e},e}function bn(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: ",";\n  grid-gap: 1em;\n  padding: 0;\n  max-width: 100%;\n"]);return bn=function(){return e},e}function hn(){var e=Object(s.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n  margin: 2em 0;\n\n  label {\n    display: flex;\n    flex-flow: column;\n    margin-bottom: 1em;\n    color: var(--gray3);\n    min-width: 0;\n  }\n\n  hr {\n    margin-bottom: 1em;\n    border: none;\n    border-bottom: 1px solid #e0e0e0;\n  }\n\n  .price {\n    position: relative;\n\n    input {\n      padding-left: 2em;\n    }\n\n    ::before {\n      content: 'R$ ';\n      position: absolute;\n      bottom: calc(0.5em + 2px);\n      left: 0.75em;\n      width: 0;\n    }\n  }\n"]);return hn=function(){return e},e}var mn=u.a.form(hn()),xn=u.a.div(bn(),(function(e){var n=e.inputCount;return"repeat(".concat(n,", 1fr)")})),fn=u.a.input(jn(),(function(e){return e.error?"1px solid #eb5757":"1px solid #e0e0e0"}),(function(e){return e.error?"inset 0 0 0 1px #eb5757":"inset 0 0 0 0 transparent"})),pn=u.a.button(un(),(function(e){return"true"==e.loading?"none":"unset"}),(function(e){return"true"==e.loading?"var(--gray3)":"var(--green)"})),On=u.a.div(dn()),gn=u.a.div(ln()),vn=u.a.div(sn());function wn(e){var n=e.defaultValues,t=e.isNew,i=Object(a.useState)(!1),o=Object(z.a)(i,2),s=o[0],l=o[1],d=Object(a.useState)([]),u=Object(z.a)(d,2),j=u[0],b=u[1],m=Object(a.useState)(),x=Object(z.a)(m,2),f=x[0],p=x[1],O=Object(a.useState)([]),g=Object(z.a)(O,2),v=g[0],w=g[1];c.a.useEffect((function(){(l(!0),p(null),w([]),j.length>0)&&Array.from(j).forEach((function(e){!function(e,n){var t=Y.a.auth().currentUser;console.log("user.uid",t.uid),ae.ref("images/".concat(t.uid,"/").concat(e.name)).put(e).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){ae.ref("images/".concat(t.uid)).child(e.name).getDownloadURL().then((function(e){console.log("Imagem salva com sucesso:",e),n(e)}))}))}(e,p)}))}),[j]),c.a.useEffect((function(){f&&w((function(){return[].concat(Object(on.a)(v),[f])})),l(!1)}),[f]);var y=Object(Oe.a)({defaultValues:n}),M=y.register,k=y.handleSubmit,S=y.errors;return Object(r.jsx)(h,{children:Object(r.jsxs)(mn,{onSubmit:k((function(e){l(!0);var r=Math.floor(9999*Math.random())+1,a=n.cod||r;console.log("submited:",{cod:a});var c=e.titulo,i=e.inscricaoMunicipal,o=e.status,s=e.dormitorios,d=e.banheiros,u=e.vagas,j=e.area,b=e.aluguel,h=e.cep,m=e.estado,x=e.cidade,f=e.bairro,p=e.rua,O=e.tipo,g={cod:a,status:o,titulo:c,inscricaoMunicipal:i,detalhes:{dormitorios:s,banheiros:d,vagas:u,area:j},aluguel:b,endereco:{cep:h,estado:m,cidade:x,bairro:f,rua:p,tipo:O,numero:e.numero,complemento:e.complemento},descricao:e.descricao,imagens:Object(on.a)(v)},w={codRef:a,status:o,titulo:c,detalhes:{dormitorios:s,banheiros:d,vagas:u,area:j},aluguel:b,endereco:{cidade:x,bairro:f,tipo:O},imagem:v[0]||""};console.log({databaseSchema:g}),console.log({snippetDatabaseSchema:w}),t?function(e,n,t){var r=X.batch(),a=Y.a.auth().currentUser;console.log("user.uid",a.uid);var c=X.collection("usuarios").doc(a.uid).collection("imoveis").doc();r.set(c,Object($.a)(Object($.a)({userUidRef:a.uid},e),{},{createdAt:Y.a.firestore.FieldValue.serverTimestamp()}));var i=X.collection("imoveis_resumo").doc();r.set(i,Object($.a)(Object($.a)({userUidRef:a.uid},n),{},{createdAt:Y.a.firestore.FieldValue.serverTimestamp()})),r.commit().then((function(){console.log("submitImovel: created usuarios/userUid/imoveis and snippet_imovel"),t(!1)}))}(g,w,l):Z(g,w,l,a)})),children:[Object(r.jsxs)(On,{children:[Object(r.jsxs)("label",{children:["T\xedtulo",Object(r.jsx)(fn,{type:"text",name:"titulo",ref:M({required:!0}),error:S.titulo})]}),Object(r.jsxs)(xn,{inputCount:2,children:[Object(r.jsxs)("label",{children:["Inscri\xe7\xe3o Municipal",Object(r.jsx)(fn,{type:"text",name:"inscricaoMunicipal",ref:M({required:!0}),error:S.inscricaoMunicipal})]}),Object(r.jsxs)("label",{children:["Status",Object(r.jsxs)(fn,{as:"select",name:"status",ref:M({required:!0}),error:S.status,children:[Object(r.jsx)("option",{value:"dispon\xedvel",children:"Dispon\xedvel"}),Object(r.jsx)("option",{value:"reservado",children:"Reservado"}),Object(r.jsx)("option",{value:"alugado",children:"Alugado"}),Object(r.jsx)("option",{value:"indispon\xedvel",children:"Indispon\xedvel"})]})]})]}),Object(r.jsxs)(xn,{inputCount:4,children:[Object(r.jsxs)("label",{children:["Dormit\xf3rios",Object(r.jsx)(fn,{type:"number",name:"dormitorios",ref:M({required:!0}),error:S.dormitorios})]}),Object(r.jsxs)("label",{children:["Banheiros",Object(r.jsx)(fn,{type:"number",name:"banheiros",ref:M({required:!0}),error:S.banheiros})]}),Object(r.jsxs)("label",{children:["Vagas",Object(r.jsx)(fn,{type:"number",name:"vagas",ref:M({required:!0}),error:S.vagas})]}),Object(r.jsxs)("label",{children:[Object(r.jsxs)("span",{children:["\xc1rea ",Object(r.jsx)("small",{children:"m\xb2"})]}),Object(r.jsx)(fn,{type:"number",name:"area",ref:M({required:!0}),error:S.area})]})]}),Object(r.jsx)(xn,{inputCount:2,children:Object(r.jsxs)("label",{className:"price",children:["Aluguel",Object(r.jsx)(fn,{type:"number",step:".01",name:"aluguel",ref:M({required:!0}),error:S.aluguel})]})}),Object(r.jsx)("hr",{style:{width:"100%"}}),Object(r.jsx)(xn,{inputCount:3,children:Object(r.jsxs)("label",{children:[Object(r.jsxs)("span",{children:["CEP",Object(r.jsxs)("small",{style:{color:"lightcoral"},children:[" ","implementar busca cep"]})]}),Object(r.jsx)(fn,{type:"string",name:"cep",ref:M({required:!0}),error:S.cep})]})}),Object(r.jsxs)(xn,{inputCount:3,children:[Object(r.jsxs)("label",{children:["Estado",Object(r.jsx)(fn,{type:"text",name:"estado",ref:M({required:!0}),error:S.estado})]}),Object(r.jsxs)("label",{children:["Cidade",Object(r.jsx)(fn,{type:"text",name:"cidade",ref:M({required:!0}),error:S.cidade})]}),Object(r.jsxs)("label",{children:["Bairro",Object(r.jsx)(fn,{type:"text",name:"bairro",ref:M({required:!0}),error:S.bairro})]})]}),Object(r.jsxs)("label",{children:["Rua",Object(r.jsx)(fn,{type:"text",name:"rua",ref:M({required:!0}),error:S.rua})]}),Object(r.jsxs)(xn,{inputCount:3,children:[Object(r.jsxs)("label",{children:["Tipo",Object(r.jsxs)(fn,{as:"select",name:"tipo",ref:M({required:!0}),error:S.tipo,children:[Object(r.jsx)("option",{value:"casa",children:"Casa"}),Object(r.jsx)("option",{value:"apartamento",children:"Apartamento"})]})]}),Object(r.jsxs)("label",{children:["N\xfamero",Object(r.jsx)(fn,{type:"text",name:"numero",ref:M({required:!0}),error:S.numero})]}),Object(r.jsxs)("label",{children:["Complemento",Object(r.jsx)(fn,{type:"text",name:"complemento",ref:M({required:!0}),error:S.complemento})]})]}),Object(r.jsx)("hr",{style:{width:"100%"}}),Object(r.jsxs)("label",{children:["Descri\xe7\xe3o",Object(r.jsx)(fn,{as:"textarea",rows:"12",cols:"99999999",wrap:"hard",className:"textarea",name:"descricao",ref:M({required:!0}),error:S.descricao})]})]}),Object(r.jsxs)(gn,{children:[Object(r.jsxs)("label",{children:[Object(r.jsxs)("span",{children:["Imagens"," ",Object(r.jsx)("small",{style:{color:"turquoise"},children:"da de melhorar"})]}),Object(r.jsx)(fn,{type:"file",name:"imagens",multiple:!0,ref:M(),error:S.imagens,onChange:function(e){var n,t;(null===e||void 0===e||null===(n=e.target)||void 0===n||null===(t=n.files)||void 0===t?void 0:t.length)>0&&b(e.target.files)}})]}),(null===v||void 0===v?void 0:v.length)>0&&Object(r.jsx)(vn,{children:v.map((function(e,n){return Object(r.jsx)("img",{src:e},"".concat(e,"-").concat(n))}))})]}),Object(r.jsx)(pn,{type:"submit",loading:s?"true":"false",children:s?"Carregando":"Salvar"})]})})}function yn(){var e=c.a.useState(),n=Object(z.a)(e,2),t=n[0],a=n[1],i=c.a.useState(),o=Object(z.a)(i,2),s=o[0],u=o[1],j=Object(d.f)(),b=j.pathname.includes("novo"),m=+j.pathname.replace("/admin/imovel/cod-","");return c.a.useEffect((function(){if(b)a(!1);else if(isNaN(m))console.log("something is wrong with your path");else{(function(){var e=Object(y.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(m);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}}),[]),c.a.useEffect((function(){if(console.log({data:t}),t){var e=t.cod,n=t.status,r=t.titulo,a=t.inscricaoMunicipal,c=t.detalhes,i=c.dormitorios,o=c.banheiros,s=c.vagas,l=c.area,d=t.aluguel,j=t.endereco,b=j.cep,h=j.estado,m=j.cidade,x=j.bairro,f=j.rua,p=j.tipo,O=j.numero,g=j.complemento,v=t.descricao;u({cod:e,titulo:r,inscricaoMunicipal:a,dormitorios:i,banheiros:o,vagas:s,area:l,aluguel:d,status:n,cep:b,estado:h,cidade:m,bairro:x,rua:f,tipo:p,numero:O,complemento:g,descricao:v})}}),[t]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Je,{}),Object(r.jsxs)(h,{children:[Object(r.jsx)("p",{children:Object(r.jsx)("small",{children:Object(r.jsx)(l.b,{to:"/admin",style:{textDecoration:"none",color:"unset"},children:"\u2190 Voltar"})})}),Object(r.jsx)("h1",{children:b?"Novo Im\xf3vel":"Editar Im\xf3vel"}),!b&&(null===s||void 0===s?void 0:s.cod)&&Object(r.jsxs)("p",{children:["C\xf3d. ",null===s||void 0===s?void 0:s.cod]})]}),Object(r.jsxs)("main",{children:[t&&!b&&s&&Object(r.jsx)(wn,{isNew:b,defaultValues:s}),b&&Object(r.jsx)(wn,{isNew:b,defaultValues:!1})]}),Object(r.jsx)(ue,{})]})}function zn(){var e=Object(s.a)(["\n  padding: 2rem 1rem;\n  text-align: center;\n  color: var(--gray3);\n\n  a {\n    color: var(--orange);\n    font-weight: bold;\n  }\n"]);return zn=function(){return e},e}function Mn(){var e=Object(s.a)(["\n  align-self: center;\n  line-height: 1.2em;\n\n  a {\n    color: var(--blue);\n  }\n\n  img {\n    display: block;\n    margin: 0;\n    width: 40px;\n    height: 40px;\n    object-fit: cover;\n    border-radius: 50%;\n  }\n\n  &.titulo {\n  }\n\n  &.aluguel {\n    text-align: right;\n  }\n\n  &.flags {\n    span {\n      display: inline-block;\n      font-size: 0.9em;\n      line-height: 1;\n      margin: 0.25rem;\n      background-color: var(--gray6);\n      padding: 0.25em 0.5em 0.4em;\n      border-radius: 5px;\n      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n\n      &.dispon\xedvel {\n        background-color: var(--green);\n        color: white;\n      }\n    }\n  }\n"]);return Mn=function(){return e},e}function kn(){var e=Object(s.a)(["\n  background-color: var(--gray6);\n  font-weight: bold;\n"]);return kn=function(){return e},e}function Sn(){var e=Object(s.a)(["\n  min-width: 900px;\n  position: relative;\n  background-color: white;\n  padding: 0.75rem;\n  transition: background-color 0.2s ease;\n\n  display: grid;\n  grid-template-columns: 1fr 2fr 2fr 2fr 1fr 1fr;\n  align-content: center;\n  grid-column-gap: 1.5em;\n\n  :focus-within,\n  :focus,\n  :hover {\n    background-color: var(--gray6);\n  }\n\n  :not(:last-child) {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  }\n"]);return Sn=function(){return e},e}function Nn(){var e=Object(s.a)(["\n  border-radius: 5px;\n  overflow: hidden;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  margin: 2rem 0;\n  font-size: 0.95rem;\n  overflow: auto;\n"]);return Nn=function(){return e},e}var En=u.a.div(Nn()),Cn=u.a.div(Sn()),An=Object(u.a)(Cn)(kn()),Fn=u.a.div(Mn()),qn=u.a.div(zn());function Dn(e){var n=e.data,t=e.loaded;return console.log("fui chamado"),console.log({data:n}),Object(r.jsx)(h,{children:Object(r.jsxs)(En,{children:[Object(r.jsxs)(An,{children:[Object(r.jsx)(Fn,{children:"C\xf3d. Im\xf3vel"}),Object(r.jsx)(Fn,{children:"Nome"}),Object(r.jsx)(Fn,{children:"Email"}),Object(r.jsx)(Fn,{children:"Telefone"}),Object(r.jsx)(Fn,{children:"Status"}),Object(r.jsx)(Fn,{children:"Criado em:"})]}),t&&n&&n.map((function(e){var n=e.codRef,t=e.createdAt,a=e.email,c=e.nome,i=e.telefone,o=e.status;return Object(r.jsxs)(Cn,{children:[Object(r.jsx)(Fn,{className:"",children:Object(r.jsx)(l.b,{to:"/admin/imovel/cod-".concat(n),children:n})}),Object(r.jsx)(Fn,{className:"",children:c}),Object(r.jsx)(Fn,{className:"",children:Object(r.jsx)("a",{href:"mailto:".concat(a),children:a})}),Object(r.jsx)(Fn,{className:"",children:Object(r.jsx)("a",{href:"tel:".concat(i),children:i})}),Object(r.jsx)(Fn,{className:"",children:o}),Object(r.jsx)(Fn,{className:"",children:t.toDate().toLocaleDateString([],{year:"numeric",month:"numeric",day:"numeric"})})]},n)})),t&&(!n||0==n.length)&&Object(r.jsx)(qn,{children:"Nenhuma visita agendada"}),!t&&Object(r.jsxs)(Cn,{children:[Object(r.jsx)(Fn,{children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(Fn,{children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(Fn,{children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(Fn,{children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(Fn,{children:Object(r.jsx)(k.a,{})}),Object(r.jsx)(Fn,{children:Object(r.jsx)(k.a,{})})]})]})})}function Rn(){var e=c.a.useState(!1),n=Object(z.a)(e,2),t=n[0],a=n[1],i=c.a.useState(null),o=Object(z.a)(i,2),s=o[0],l=o[1],d=c.a.useState(null),u=Object(z.a)(d,2),j=u[0],b=u[1];return c.a.useEffect((function(){re(l)}),[]),c.a.useEffect((function(){a(!1),s&&(b(s),a(!0))}),[s]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Je,{}),Object(r.jsx)(h,{children:Object(r.jsx)("h1",{style:{margin:"2rem 0 0",fontSize:"2rem",color:"var(--gray3)"},children:"Visitas Agendadas"})}),Object(r.jsx)(Dn,{data:j,loaded:t}),Object(r.jsx)(ue,{})]})}function Vn(){return Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{path:"",element:Object(r.jsx)(cn,{})}),Object(r.jsx)(d.a,{path:"/agendamentos",element:Object(r.jsx)(Rn,{})}),Object(r.jsx)(d.a,{path:"/imovel/*",element:Object(r.jsx)(yn,{})}),Object(r.jsx)(d.a,{path:"/admin/*",element:Object(r.jsx)(Ue,{})})]})}function In(){var e=Object(a.useContext)(He).currentUser;function n(){return e&&Object(r.jsx)("button",{onClick:function(){return Y.a.auth().signOut()},children:"Sign Out (mover para User)"})}return Object(r.jsx)(r.Fragment,{children:e?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Vn,{}),Object(r.jsx)(n,{})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:"Fa\xe7a login para acessar esta parte da aplica\xe7\xe3o"}),Object(r.jsx)("button",{onClick:function(){var e=new Y.a.auth.GoogleAuthProvider;Y.a.auth().signInWithPopup(e)},children:"Acessar com o Google"})]})})}function Bn(){var e=Object(s.a)(["\n  display: flex;\n  flex-flow: column;\n  min-height: 100vh;\n"]);return Bn=function(){return e},e}var Un=u.a.div(Bn());function Hn(){return Object(r.jsx)(Un,{children:Object(r.jsx)(Te,{children:Object(r.jsx)(l.a,{basename:"/",children:Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{path:"/",element:Object(r.jsx)(je,{})}),Object(r.jsx)(d.a,{path:"imovel/*",element:Object(r.jsx)(Be,{})}),Object(r.jsx)(d.a,{path:"admin/*",element:Object(r.jsx)(In,{})}),Object(r.jsx)(d.a,{path:"*",element:Object(r.jsx)(Ue,{})})]})})})})}o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Hn,{})}),document.getElementById("root"))},77:function(e,n,t){}},[[160,1,2]]]);
//# sourceMappingURL=main.242e9a29.chunk.js.map